<div ng-controller="settingController">
    <div class="navbar navbar-custom navbar-fixed-top">
        <div class="navbar-header">
            <a class="navbar-brand" href="#/map">Geofeelings</a>
            <span id="loggedUser">Ingelogd als: {{user.username}}</span>
            <a class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li><a href="#">Home</a></li>
                <li ng-if="user.admin"><a href="#/admin">Admin</a></li>
                <li class="active"><a href="#/settings">Settings</a></li>
                <li><a href="#" ng-click="logout()">Logout</a></li>
                <li>&nbsp;</li>
            </ul>
        </div>
    </div>
    <div class="container-fluid" id="main">
        <div class="col-md-4">
            <h4>Settings</h4>
            <hr>
            <div ng-show="settingerror" class="alert alert-danger">{{ settingerror }}</div>
            <form name="settingForm" novalidate>
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" ng-model="user.username" class="form-control" readonly required />
                </div>
                <div class="form-group">
                    <label for="email">E-mail</label>
                    <input type="text" id="email" ng-model="user.email" class="form-control" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/" required />
                </div>
                <div class="form-group">
                    <label for="age">Age</label>
                    <input type="text" id="age" ng-model="user.age" class="form-control" readonly required />
                </div>
                <div class="form-group">
                    <label for="chat">Chat</label>
                    <div class="onoffswitch">
                        <input type="checkbox" id="chat" class="onoffswitch-checkbox" ng-model="user.chat" />
                        <label class="onoffswitch-label" for="chat">
                            <span class="onoffswitch-inner"></span>
                            <span class="onoffswitch-switch"></span>
                        </label>
                    </div>
                </div>
                <button type="submit" ng-disabled="settingForm.$invalid" ng-click="saveChanges()" class="btn btn-primary" >Save changes</button>
            </form>
        </div>
    </div>
</div>